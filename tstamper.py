mach = 320
rate = 44100
sync_err = 15
desync = False

tstamps = [203413,250645,340453,384567,428668,472770,516870,560971,605072,649161,693271,737363,781464,825565,869666,913766,957881,1001982,1046069,1090184,1134286,1178373,1222473,1266575,1310689,1354790,1398891,1442993,1487081,1531181,1575284,1619397,1663498,1707788,1753179,1822883,1884645,1928322,1972402,2016972,2061071,2105173,2149272,2193374,2237007,2281112,2325230,2369312,2413414,2457514,2501616,2545719,2589817,2633939,2678015,2722586,2766709,2810730,2854444,2898522,2942671,2985481,3030853,3074949,3120405,3163622,3207722,3251823,3339665,3383603,3427645,3471746,3515866,3559969,3604069,3648169,3692252,3736352,3780454,3824562,3868642,3912743,3956844,4000964,4045063,4089163,4133266,4177367,4221468,4265569,4309684,4357525,4401468,4442097,4486193,4530309,4574412,4618514,4664277,4708001,4750862,4794940,4840328,4884762,4928633,5002537,5061600,5105662,5149740,5194170,5239461,5283562,5328145,5371762,5416391,5460026]

fbeep = tstamps[0]
for x in range (1,5):
    if abs(((tstamps[x]%rate)-(tstamps[x+1]%rate))) < 5 :
        fbeep = tstamps [x]
        

# calculate distances
for index,value in enumerate(tstamps): #this is to avoid the in range len idiom
    #time.sleep(0)
    delta = ((value % rate) - (fbeep % rate))
    position = delta * (mach/rate)
    if position > 10:
        print (str(round(value/rate,2)).rjust(6),str(round(position,2)).rjust(7),str(delta).rjust(7))
    elif position < 0:
        print (str(round(value/rate,2)).rjust(6),str(round(position,2)).rjust(7),str(delta).rjust(7))
    else:
        blok = " " * int(position*10) + "X"
        print (str(round(value/rate,2)).rjust(6),str(round(position,2)).rjust(7),str(delta).rjust(7),blok)
    
